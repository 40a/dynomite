
    x Move all rbtree timeout code to thread_ctx
    x Move all looping functions to thread_ctx
    x Each thread_ctx has its own datastore connection
    x Protect individual queues
        x conn queue
        x message queue
        x mbuf queue
        x dnode message queue
    x Remove the connection parameter from req_put
    x Move topology specific code to topology (06/09)
    x Implement a pollable interface to be added to event notification system. The thread ipc will implement a pollable interface
    x Implement a ipc interface
    x thread local storage
06/10
    x Improve peer interface 
    x Create message queue in threads, add to epoll 
    x Plan how the response will be returned
06/13
    x Unlink message queue after creation
    x Send to peer should take into account thread_ctx: peer should have thread_ctx?
    x Create 1 extra thread, for remote region nodes.
06/14
    x better allocation code on threads, also the g_ptctx is NULL most of the time.
    x Replace node in main thread tries to disconnect and reconnect, avoid that in the main thread.
    x Fix crashes
    x Make pappy run
06/23
    x Fix cross region replication crashes:
        x Rewrote the dnode header parser
06/28
    o Code walkthrough again
06/29
    o Round Robin in connection
        o At heavy load, cross region replication lag is pretty high.
        o Also the queue size if pretty high

    o dyn_epoll is not thread safe. Make recv_active, send_active as atomic
    o Get rid of peer field
    o Make sure multiple dynomite nodes work on same machine since we have almost hardcoded dynomite message queue names
    o Optimize calls to thread_ctx_add/del_* by doing proactive checks
    o Implement a Unix socket based IPC
    o Make dnode client and client uniform (dnode client also has HashTable, and referencing etc) 
    o Protect global datastructures
        o Stats : read/write lock
        o topology : read/write lock
    o Check all event_adds, and make sure we call event add out/in before we write to the connection
    o Do not destroy connection on closing.
    o different type for pollable and connection type
    o Per thread stats and reporting

    o Check for socket connect success: http://stackoverflow.com/questions/10187347/async-connect-and-disconnect-with-epoll-linux/10194883#10194883
    o Fix building tools directory
